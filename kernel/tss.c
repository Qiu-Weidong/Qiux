#include "tss.h"
#include "gdt.h"
#include "__asm__.h"

public tss_t tss;

/*===========================================================================*
 *				tss_init				     *
 *===========================================================================*/
/*****************************************************************************
 * <特权级 0> 初始化tss
 * 内核执行
 *****************************************************************************/
public void tss_init()
{
    tss.ss0 = SEL_KERNEL_DS;
    tss.bitmap = 0xdfff;
    ltr(SEL_TSS);
}

/*===========================================================================*
 *				tss_get				     *
 *===========================================================================*/
/*****************************************************************************
 * <特权级 0> 获取tss
 * 内核执行
 *****************************************************************************/
public tss_t * tss_get()
{
    return &tss;
}
